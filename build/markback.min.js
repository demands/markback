/*! markback v0.0.1, (c) Max Edmands (http://maxedmands.com) 2013-05-23 */
(function(){var t,r,n,e,o,u,c,p,s,i,a,_,f,h,l,y,d,m,v,g={}.hasOwnProperty,w=function(t,r){function n(){this.constructor=t}for(var e in r)g.call(r,e)&&(t[e]=r[e]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t};e="*",a=function(e,p){var a,_,f;return _=null!=(f=e.nodeName)?f.toLowerCase():void 0,a=function(){switch(!1){case e.nodeType!==window.Node.TEXT_NODE:return new i;case"head"!==_:return new u;case"div"!==_:return new r;case"p"!==_:return new r;case"blockquote"!==_:return new n;case!_.match(/^h\d$/):return new c;case"a"!==_:return new t;case"em"!==_:return new o;default:return new s}}(),a.domNode=e,a.parent=p,a},s=function(){function t(){}return t.prototype.convert=function(){var t,r;return this.domNode.hasChildNodes()?(r=function(){var r,n,e,o;for(e=this.domNode.childNodes,o=[],r=0,n=e.length;n>r;r++)t=e[r],o.push(a(t,this).convert());return o}.call(this),r.join("")):""},t.prototype.prefix=function(){var t;return(null!=(t=this.parent)?t.prefix():void 0)||""},t}(),u=function(t){function r(){return _=r.__super__.constructor.apply(this,arguments)}return w(r,t),r.prototype.convert=function(){return""},r}(s),r=function(t){function r(){return f=r.__super__.constructor.apply(this,arguments)}return w(r,t),r.prototype.convert=function(){var t;return t=r.__super__.convert.apply(this,arguments).trim(),0===t.length?"":"\n"+this.prefix()+t+"\n\n"},r}(s),n=function(t){function r(){return h=r.__super__.constructor.apply(this,arguments)}return w(r,t),r.prototype.prefix=function(){return r.__super__.prefix.apply(this,arguments)+"    "},r}(r),c=function(t){function r(){return l=r.__super__.constructor.apply(this,arguments)}return w(r,t),r.prototype.prefix=function(){return r.__super__.prefix.apply(this,arguments)+"# "},r}(r),p=function(t){function r(){return y=r.__super__.constructor.apply(this,arguments)}return w(r,t),r.prototype.convert=function(){return r.__super__.convert.apply(this,arguments)},r}(s),i=function(t){function r(){return d=r.__super__.constructor.apply(this,arguments)}return w(r,t),r.prototype.convert=function(){return this.domNode.textContent.replace(/\s+/g," ")},r}(p),t=function(t){function r(){return m=r.__super__.constructor.apply(this,arguments)}return w(r,t),r.prototype.convert=function(){return"["+r.__super__.convert.apply(this,arguments)+"]("+this.domNode.attributes.href.value+")"},r}(p),o=function(t){function r(){return v=r.__super__.constructor.apply(this,arguments)}return w(r,t),r.prototype.convert=function(){return""+e+r.__super__.convert.apply(this,arguments)+e},r}(p),window.Markback=function(){return a(document.documentElement).convert()}}).call(this);